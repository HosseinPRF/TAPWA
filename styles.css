@font-face{font-family:system-ui;src:local("system-ui")}
:root{
  --bg:#0f1115;--card:#171a21;--muted:#2a2f3a;--text:#e9ecf1;--sub:#b8c0cc;
  --pri:#4cc9f0;--ok:#22c55e;--warn:#f59e0b;--bad:#ef4444;--shadow:0 10px 30px rgba(0,0,0,.35)
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  background:linear-gradient(160deg,#0f1115,#131722 40%,#0f1115);
  color:var(--text);display:flex;flex-direction:column;min-height:100vh
}
.app-header,.app-footer{
  padding:12px 16px;background:transparent;backdrop-filter:saturate(160%) blur(6px);
  border-bottom:1px solid #1f2430
}
.app-footer{border-top:1px solid #1f2430;border-bottom:none}
h1{font-size:18px;margin:8px 0 0}
.header-actions{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap}
.stage{flex:1;max-width:960px;width:100%;margin:16px auto;padding:16px}
.card{
  background:var(--card);border:1px solid #232836;border-radius:16px;padding:16px;
  box-shadow:var(--shadow)
}
.card h2{margin:0 0 8px;font-size:18px}
.card p.lead{color:var(--sub);margin:0 0 12px}
.grid{display:grid;gap:10px}
.grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}
.grid.cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}
.grid.cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}
@media (max-width:640px){.grid.cols-4,.grid.cols-3,.grid.cols-2{grid-template-columns:1fr}}

.btn,.stage button{cursor:pointer;border:none;border-radius:10px;padding:10px 14px;font-weight:600}
.primary{background:var(--pri);color:#06121a}
.secondary{background:var(--muted);color:var(--text)}
.ghost{background:transparent;border:1px solid var(--muted);color:var(--sub)}
.ghost.danger{border-color:var(--bad);color:#ffb3b3}
button:disabled{opacity:.5;cursor:not-allowed}

.kb{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
.kb button{background:#1c2130;border:1px solid #2a3344}
.kb button.active{background:#26334a;border-color:var(--pri);box-shadow:0 0 0 2px rgba(76,201,240,.25) inset}

.help{background:#121723;border:1px dashed #2a3344;color:var(--sub);padding:10px;border-radius:10px;margin:10px 0}
.field{display:grid;gap:6px;margin-top:6px}
input[type=text],textarea,select{
  background:#0f131d;border:1px solid #22293a;border-radius:10px;color:var(--text);
  padding:10px 12px;width:100%;outline:none
}
textarea{min-height:90px;resize:vertical}

.footer-actions{display:flex;gap:8px;flex-wrap:wrap;justify-content:space-between;align-items:center}
.hint{color:var(--sub)}

.summary pre{
  background:#0f131d;border:1px solid #22293a;border-radius:12px;padding:12px;white-space:pre-wrap
}
.tag{display:inline-block;background:#1e2433;border:1px solid #2a3142;border-radius:999px;padding:4px 10px;margin:2px;color:#cfe3ff}
small.note{color:#9fb1c9}
