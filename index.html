<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <!-- ุชู ููุดู ุฑูุดู -->
  <meta name="theme-color" content="#ffffff" />
  <title>TAJ โ ุซุจุช ุชุฌุฑุจูโูุง TA (PWA)</title>
  <link rel="manifest" href="./manifest.webmanifest">
  <link rel="icon" href="./icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="./icon.svg">
  <link rel="stylesheet" href="./styles.css">
  <meta name="description" content="ุซุจุช ูุณุฑ ฺฏูุชโูฺฏู ุจุง ูุฏู ุชุญูู ุฑูุชุงุฑ ูุชูุงุจูุ ุขููุงู ู ุฑู ฺฏูุด">
</head>
<body>
  <header class="appbar">
    <div class="brand">
      <img src="./icon.svg" alt="TAJ" class="logo">
      <h1>TAJ โ ุชุญูู ุฑูุชุงุฑ ูุชูุงุจู</h1>
    </div>
    <nav class="actions">
      <button id="btnReset" class="btn ghost">ุดุฑูุน ุงุฒ ุงูู ๐</button>
      <a class="btn link" href="https://github.com/HosseinPRF/TAPWA" target="_blank" rel="noopener">GitHub</a>
    </nav>
  </header>

  <main id="app" class="container">

    <!-- Screen 1: ูุนุฑู -->
    <section class="screen" data-screen="intro">
      <h2>ฑ) ูุนุฑู ฺฉูุชุงู ูููุนุช</h2>
      <div class="grid">
        <label class="field">
          <span>ูุงู ุดูุง</span>
          <input id="your_name" type="text" placeholder="ูุซูุงู: ุญุณู">
        </label>
        <label class="field">
          <span>ูุงู ุทุฑู ููุงุจู</span>
          <input id="other_name" type="text" placeholder="ูุซูุงู: ุนู">
        </label>
      </div>
      <label class="field">
        <span>ุฎูุงุตูู ูููุนุช (ฑโณ ุฌููู)</span>
        <textarea id="summary" rows="3" placeholder="ูุซูุงู: ุงูุฑูุฒ ุณุฑ ุชูุณู ูุธุงู ุจุง ููฺฉุงุฑู ุจุญุซ ุดุฏ..."></textarea>
      </label>
      <div class="nav-row">
        <button class="btn primary" id="toRoles">ุงุฏุงูู</button>
      </div>
    </section>

    <!-- Screen 2: ููุดโูุง -->
    <section class="screen hidden" data-screen="roles">
      <h2>ฒ) ููุดโูุง (Ego States)</h2>
      <div class="card">
        <h3>ููุด ุดูุง</h3>
        <div id="yourRole" class="role-block"></div>
      </div>
      <div class="card">
        <h3>ููุด ุทุฑู ููุงุจู</h3>
        <div id="otherRole" class="role-block"></div>
      </div>
      <div class="helper">
        <b>ุฑุงูููุง ููุดโูุง:</b><br>
        โข ฺฉูุฏฺฉ ๐ถ โ ููุงูุฏูู ุงุญุณุงุณ ู ุฎูุฏุงูฺฏุฎุชฺฏ (ุทุจุน/ูุทุน/ุณุฑฺฉุด)<br>
        โข ุจุงูุบ ๐ง โ ูุงูุนโุจูุ ูพุฑุฏุงุฒุดฺฏุฑ ุงุทูุงุนุงุชุ ุชุตูู ูุชุนุงุฏู<br>
        โข ูุงูุฏ ๐จโ๐ซ โ ููุงุนุฏ ู ุงุฑุฒุดโูุง ุฏุฑูู (ุญูุงุชฺฏุฑ/ุงูุชูุงุฏฺฏุฑ)
      </div>
      <div class="nav-row">
        <button class="btn" data-back>ุจุฑฺฏุดุช</button>
        <button class="btn primary" id="toEmotions">ุงุฏุงูู</button>
      </div>
    </section>

    <!-- Screen 3: ุงุญุณุงุณโูุง -->
    <section class="screen hidden" data-screen="emotions">
      <h2>ณ) ุงุญุณุงุณ(ูุง)</h2>
      <p class="helper">ูโุชูู ฺูุฏุชุง ุงูุชุฎุงุจ ฺฉู. ุงฺฏุฑ ูุจูุฏุ ุฎูุฏุช ุจููุณ ู ุงุถุงูู ฺฉู.</p>
      <div id="emotionChips" class="chips"></div>
      <div class="inline-add">
        <input id="emotionInput" type="text" placeholder="ุงูุฒูุฏู ุงุญุณุงุณ ุฏูุฎูุงู...">
        <button id="emotionAdd" class="btn">ุงูุฒูุฏู</button>
      </div>
      <div id="emotionSelected" class="selected"></div>
      <div class="nav-row">
        <button class="btn" data-back>ุจุฑฺฏุดุช</button>
        <button class="btn primary" id="toNeedsYou">ุงุฏุงูู</button>
      </div>
    </section>

    <!-- Screen 4: ูุงุฒูุง ุดูุง -->
    <section class="screen hidden" data-screen="needs-you">
      <h2>ด) ูุงุฒูุง ุดูุง</h2>
      <p class="helper">ุฑุงูููุง ฺฉูุชุงู ูุฑ ูุงุฒ ุฒุฑู ุนููุงู ุขูุฏู ุชุง ุงุฏุช ุจุงุฏ.</p>
      <div id="needChipsYou" class="chips needs"></div>
      <div id="needHintsYou" class="hints"></div>
      <div class="nav-row">
        <button class="btn" data-back>ุจุฑฺฏุดุช</button>
        <button class="btn primary" id="toNeedDetailsYou">ุงุฏุงูู</button>
      </div>
    </section>

    <!-- Screen 5: ุฌุฒุฆุงุช ูุงุฒูุง ุดูุง -->
    <section class="screen hidden" data-screen="need-details-you">
      <h2 id="ndyTitle">ต) ุฌุฒุฆุงุช ูุงุฒ โ ุดูุง</h2>
      <div id="ndyBody" class="wizard"></div>
      <div class="nav-row">
        <button class="btn" data-back>ุจุฑฺฏุดุช</button>
        <button class="btn primary" id="ndyNext">ุจุนุฏ</button>
      </div>
    </section>

    <!-- Screen 6: ูุงุฒูุง ุทุฑู ููุงุจู -->
    <section class="screen hidden" data-screen="needs-other">
      <h2>ถ) ูุงุฒูุง ุทุฑู ููุงุจู</h2>
      <p class="helper">ุงฺฏุฑ ูุทูุฆู ูุณุชุ ฑโฒ ุญุฏุณ ูุฒุฏฺฉ ุงูุชุฎุงุจ ฺฉู.</p>
      <div id="needChipsOther" class="chips needs"></div>
      <div id="needHintsOther" class="hints"></div>
      <div class="nav-row">
        <button class="btn" data-back>ุจุฑฺฏุดุช</button>
        <button class="btn primary" id="toNeedDetailsOther">ุงุฏุงูู</button>
      </div>
    </section>

    <!-- Screen 7: ุฌุฒุฆุงุช ูุงุฒูุง ุทุฑู ููุงุจู -->
    <section class="screen hidden" data-screen="need-details-other">
      <h2 id="ndoTitle">ท) ุฌุฒุฆุงุช ูุงุฒ โ ุทุฑู ููุงุจู</h2>
      <div id="ndoBody" class="wizard"></div>
      <div class="nav-row">
        <button class="btn" data-back>ุจุฑฺฏุดุช</button>
        <button class="btn primary" id="toGameCheck">ุงุฏุงูู</button>
      </div>
    </section>

    <!-- Screen 8: ุจุงุฒโูุง -->
    <section class="screen hidden" data-screen="games">
      <h2>ธ) ุจู ยซุจุงุฒยป ูโุฏุงุฏุ</h2>
      <div class="helper">
        ยซุจุงุฒยป ุนู ุงูฺฏู ุชฺฉุฑุงุฑู ุชุนุงูู ฺฉู ุธุงูุฑุงู ููุทู ุงุณุช ูู ูุนูููุงู ุจุง
        ฺุฑุฎุด ููุดโูุง (ูุฑุจุงู/ูุฌุงุชฺฏุฑ/ุขุฒุงุฑฺฏุฑ) ู ุญุณ ุขุดูุง ูุงุฎูุดุงูุฏ ุชูุงู ูโุดูุฏ.
      </div>
      <div class="row">
        <button class="btn" id="gameNo">ุฎุฑ</button>
        <button class="btn primary" id="gameYes">ุจูู</button>
      </div>

      <div id="gamePanel" class="hidden">
        <h3>ูุงู ุจุงุฒ/ูุง ุฑุง ุงูุชุฎุงุจ ฺฉู</h3>
        <div id="gameChips" class="chips"></div>
        <div id="gameInfo" class="game-info"></div>

        <h3>ูุญุธูู ุณูุฆฺ ุฑุง ุจููุณ</h3>
        <p class="helper">ูุซุงู: ยซููุช ฺฏูุช: ุชู ุงุตูุงู ููโูููโฆ ูู ุงุฒ ุจุงูุบโูุงูุฏ ุงูุชูุงุฏฺฏุฑ ุฑูุชู ู ุงู ูุฑุจุงู ุดุฏยป.</p>
        <textarea id="gameSwitchNote" rows="2" placeholder="ุณูุฆฺ ฺฉุฌุง ุฑุฎ ุฏุงุฏุ"></textarea>

        <div class="card" id="antiSummary"></div>
      </div>

      <div class="nav-row">
        <button class="btn" data-back>ุจุฑฺฏุดุช</button>
        <button class="btn primary" id="toSummary">ุงุฏุงูู</button>
      </div>
    </section>

    <!-- Screen 9: ุฎูุงุตู ู ุฎุฑูุฌ -->
    <section class="screen hidden" data-screen="summary">
      <h2>น) ุฎูุงุตูู ุซุจุช</h2>
      <pre id="summaryText" class="summary"></pre>
      <div class="row wrap">
        <button class="btn" id="btnCopy">ฺฉูพ</button>
        <button class="btn" id="btnShare">ุงุดุชุฑุงฺฉ</button>
        <button class="btn" id="btnSave">ุฐุฎุฑู ูุญู</button>
        <button class="btn danger" id="btnClearLocal">ูพุงฺฉโฺฉุฑุฏู ูููู ุฐุฎุฑูโูุง</button>
      </div>
      <details class="store">
        <summary>ุณูุงุจู ุฐุฎุฑูโุดุฏู (localStorage)</summary>
        <div id="storeList"></div>
      </details>
      <div class="nav-row">
        <button class="btn" data-back>ุจุฑฺฏุดุช</button>
        <button class="btn primary" id="btnRestart">ุดุฑูุน ุซุจุช ุฌุฏุฏ</button>
      </div>
    </section>

  </main>

  <footer class="footer">
    <small>ูุณุฎู PWA ุขููุงู โข ูููโฺุฒ ููุท ุฑู ุฏุณุชฺฏุงู ุดูุง ุฐุฎุฑู ูโุดูุฏ.</small>
  </footer>

  <script src="./app.js"></script>
</body>
</html>
